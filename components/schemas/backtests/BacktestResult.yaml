type: object
description: Schema for `E_BacktestResult`. Represents the comprehensive results of a simulation run for a trading algorithm, including financial performance, trade details, and AI-generated analysis.
required:
  - runId
  - algorithmId
  - equityCurve
  - metrics
properties:
  runId:
    type: string
    format: uuid
    description: Unique identifier for this specific backtest run.
    example: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
  algorithmId:
    type: string
    format: uuid
    description: Unique identifier of the algorithm that was backtested.
    example: "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
  algorithmVersion:
    type: integer
    description: Version number of the algorithm used for the backtest. Useful for tracking changes.
    example: 3
  startDate:
    type: string
    format: date
    description: The start date of the backtest period (YYYY-MM-DD).
    example: "2020-01-01"
  endDate:
    type: string
    format: date
    description: The end date of the backtest period (YYYY-MM-DD).
    example: "2023-12-31"
  initialCapital:
    type: number
    format: double
    description: The starting capital used for the backtest simulation.
    example: 100000.00
  finalCapital:
    type: number
    format: double
    description: The final capital at the end of the backtest simulation.
    example: 150000.75
  equityCurve:
    type: array
    description: A time-series representation of the portfolio's equity value over the backtest period.
    items:
      type: object
      description: A single point on the equity curve, showing date, value, and optional AI forecast.
      required:
        - date
        - value
      properties:
        date:
          type: string
          format: date
          description: The date for this equity curve point (YYYY-MM-DD).
          example: "2021-06-15"
        value:
          type: number
          format: double
          description: The portfolio's equity value on this date.
          example: 125345.67
        aiForecast:
          type: number
          format: double
          nullable: true
          description: An optional AI-generated forecast for the equity value on this date, if available.
          example: 125500.00
  metrics:
    $ref: '../algorithms/PerformanceMetrics.yaml'
    description: Comprehensive performance metrics calculated from the backtest results.
  tradeLog:
    type: array
    description: A detailed log of all trades executed during the backtest.
    items:
      $ref: './TradeLogEntry.yaml'
  aiAnalysis:
    type: string
    nullable: true
    description: Natural language analysis of the backtest generated by an AI model, providing insights and summaries.
    example: "The backtest for 'AlphaStrategy v3' showed strong performance in bull markets, achieving a 50% return over 3 years. However, it experienced significant drawdowns during Q1 2022, indicating sensitivity to market volatility. The strategy's average trade profit was $250, with a win rate of 62%. Further optimization could focus on risk management during downturns."